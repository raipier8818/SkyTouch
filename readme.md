# SkyTouch - Hand Tracking Trackpad

손 제스처를 통해 마우스를 제어하는 데스크톱 애플리케이션입니다. MediaPipe를 사용한 실시간 손 추적과 제스처 인식을 통해 직관적인 마우스 조작이 가능합니다.

## 🚀 주요 기능

### 📱 제스처 모드
- **이동 모드**: 검지만 펴진 상태로 마우스 커서 이동
- **클릭 모드**: 새끼손가락이 펴진 상태에서 엄지-검지/중지 터치로 클릭/우클릭
- **스크롤 모드**: 검지와 중지만 펴진 상태로 상하좌우 스크롤
- **스와이프 모드**: 주먹을 쥔 상태로 좌우 스와이프하여 데스크톑 전환

### 🎯 핵심 기능
- **실시간 손 추적**: MediaPipe 기반 고정밀 손 랜드마크 감지
- **직관적인 제스처**: 자연스러운 손 동작으로 마우스 제어
- **커스터마이징**: 각 모드별 상세 설정 가능
- **실시간 피드백**: 카메라 화면에 손 랜드마크 표시
- **디버그 패널**: 실시간 로그 및 상태 모니터링

## 📋 시스템 요구사항

### 권장 요구사항
- **Python**: 3.11 권장
- **운영체제**: macOS
- **카메라**: 웹캠 또는 내장 카메라
- **메모리**: 최소 4GB RAM

## 🛠️ 설치 방법

### 1. 저장소 클론
```bash
git clone https://github.com/your-username/SkyTouch.git
cd SkyTouch
```

### 2. 가상환경 생성 및 활성화
```bash
# Python 가상환경 생성
python -m venv venv

# 가상환경 활성화
source venv/bin/activate
```

### 3. 의존성 설치
```bash
pip install -r requirements.txt
```

### 4. qtmodern 설치 (프레임리스+모던 다크 윈도우)
```bash
pip install qtmodern
```

### 5. 애플리케이션 실행
```bash
python main.py
```

## 🎮 사용법

### 기본 조작
1. **애플리케이션 시작**: `python main.py` 실행
2. **트래킹 시작**: "트래킹 시작" 버튼 클릭
3. **제스처 사용**: 손을 카메라 앞에 위치시키고 제스처 수행
4. **트래킹 종료**: "트래킹 정지" 버튼

### 제스처 가이드

#### 🖱️ 이동 모드
- **제스처**: 검지가 펴진 상태
- **동작**: 손을 움직여 마우스 커서 이동
- **설정**: 감도, 스무딩, 좌우/상하 반전 조정 가능

#### 🖱️ 클릭 모드
- **제스처**: 새끼손가락이 펴진 상태
- **좌클릭**: 엄지와 검지를 붙였다 떼기
- **우클릭**: 엄지와 중지를 붙였다 떼기
- **더블클릭**: 빠른 연속 클릭

#### 📜 스크롤 모드
- **제스처**: 검지와 중지만 펴진 상태
- **동작**: 손을 움직여 상하좌우 스크롤
- **설정**: 스크롤 감도, 방향 반전 조정 가능

#### 🔄 스와이프 모드
- **제스처**: 주먹을 쥔 상태 (모든 손가락 접음)
- **동작**: 좌우 스와이프로 데스크톑 전환
- **설정**: 스와이프 감도, 쿨다운 시간 조정 가능

## ⚙️ 설정

### 설정 파일 위치
- **기본 설정**: `config.json`
- **설정 관리**: UI의 "설정" 버튼을 통해 실시간 조정

### 주요 설정 항목

#### 카메라 설정
```json
{
  "camera": {
    "width": 480,
    "height": 360,
    "fps": 60,
    "device_id": 0
  }
}
```

#### 제스처 설정
```json
{
  "gesture": {
    "sensitivity": 1.5,
    "smoothing_factor": 0.5,
    "invert_x": true,
    "invert_y": false,
    "click_threshold": 0.12
  }
}
```

## 🏗️ 프로젝트 구조

```
SkyTouch/
├── main.py                 # 메인 진입점
├── app.py                  # 애플리케이션 메인 클래스
├── requirements.txt        # Python 의존성
├── config.json            # 기본 설정 파일
├── core/                  # 핵심 기능 모듈
│   ├── hand_tracking/     # 손 추적 관련
│   ├── gesture/          # 제스처 인식
│   ├── mouse/            # 마우스 제어
│   └── camera/           # 카메라 캡처
├── ui/                   # 사용자 인터페이스
│   ├── main_window/      # 메인 윈도우
│   ├── panels/           # UI 패널들
│   └── dialogs/          # 대화상자들
├── config/               # 설정 관리
├── utils/                # 유틸리티
├── exceptions/           # 예외 처리
└── logs/                 # 로그 파일
```

## 🔧 개발 환경 설정

### 개발 의존성 설치
```bash
# 개발 도구 설치 (선택사항)
pip install pytest black flake8
```

## 🐛 문제 해결

### 일반적인 문제

#### 카메라가 인식되지 않는 경우
1. 카메라 권한 확인
2. 다른 애플리케이션에서 카메라 사용 중인지 확인
3. `config.json`에서 `device_id` 변경

#### 제스처 인식이 부정확한 경우
1. 조명 상태 개선
2. 카메라와의 거리 조정 (30-50cm 권장)
3. 설정에서 감도 및 임계값 조정

#### 성능 문제
1. 카메라 해상도 낮추기
2. FPS 설정 조정
3. 시스템 리소스 확인

### 로그 확인
- **로그 위치**: `logs/` 디렉토리
- **실시간 로그**: 디버그 패널에서 확인
